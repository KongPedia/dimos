#!/usr/bin/env python

"""
Simple command line tool to trigger robot exploration.

Usage:
    explore_cmd.py start    # Start exploration
    explore_cmd.py stop     # Stop exploration
"""

import sys
from dimos.protocol.pubsub.lcmpubsub import LCM, Topic
from dimos_lcm.std_msgs import Bool


def main():
    if len(sys.argv) != 2 or sys.argv[1] not in ["start", "stop"]:
        print("Usage: bin/explore-cmd [start|stop]")
        sys.exit(1)

    command = sys.argv[1]

    lcm = LCM()

    msg = Bool()
    msg.data = True

    if command == "start":
        topic = Topic("/explore_cmd", Bool)
        lcm.publish(topic, msg)
        print("✓ Sent start exploration command")
    elif command == "stop":
        topic = Topic("/stop_explore_cmd", Bool)
        lcm.publish(topic, msg)
        print("✓ Sent stop exploration command")


if __name__ == "__main__":
    main()
